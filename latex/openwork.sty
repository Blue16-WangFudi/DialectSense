% --- Fonts and encoding (keep the build self-contained) ---
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{lmodern}
\RequirePackage{microtype}
% Tectonic defaults to XeTeX; microtype font expansion is not supported there.
\microtypesetup{protrusion=true,expansion=false}

\RequirePackage{graphicx} % Required for inserting images
\RequirePackage{xcolor}
\RequirePackage{url}
\IfFileExists{xurl.sty}{\RequirePackage{xurl}}{}
\RequirePackage[letterpaper, left=1in, right=1in, top=1in, bottom=1in]{geometry}
\setlength{\parindent}{1em}
\setlength{\parskip}{0pt}
\setlength{\emergencystretch}{2em}

% Bibliography tools are intentionally not used to keep the build self-contained.

\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{enumitem}
\RequirePackage[normalem]{ulem}
\RequirePackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  citecolor=blue,
  urlcolor=blue
}
\urlstyle{same}
\RequirePackage{tabularray}
\UseTblrLibrary{booktabs}
\IfFileExists{siunitx.sty}{%
  \RequirePackage{siunitx}%
  \sisetup{detect-all,round-mode=places,round-precision=4}%
  \UseTblrLibrary{siunitx}%
}{}
\RequirePackage{caption}
\RequirePackage{subcaption}
\RequirePackage{placeins}
\RequirePackage{listings}
\lstset{
  basicstyle=\ttfamily\small,
  breaklines=true,
  breakatwhitespace=true,
  columns=fullflexible,
  keepspaces=true,
  frame=single,
  framerule=0.3pt,
  rulecolor=\color{black!20},
  xleftmargin=0.5em,
  xrightmargin=0.5em,
  aboveskip=0.8em,
  belowskip=0.8em
}

\RequirePackage{titlesec}
\titleformat{\section}{\bfseries\fontsize{16pt}{19pt}\selectfont}{}{0pt}{}
\titlespacing{\section}{0pt}{12pt}{12pt}
\titleformat{\subsection}{\bfseries\fontsize{14pt}{16pt}\selectfont}{}{0pt}{}
\titlespacing{\subsection}{0pt}{12pt}{12pt}
\titleformat{\subsubsection}{\bfseries\fontsize{12pt}{14pt}\selectfont}{}{0pt}{}
\titlespacing{\subsubsection}{0pt}{12pt}{0pt}

\RequirePackage{titling}
\RequirePackage{authblk}
\pretitle{\begingroup\centering\fontsize{18pt}{21pt}\bfseries}
\posttitle{\par\endgroup}
\preauthor{\begingroup\centering}
\postauthor{\par\vspace{-3em}\endgroup}

\RequirePackage{abstract}
\setlength{\absleftindent}{0pt}
\setlength{\absrightindent}{0pt}
\renewcommand{\abstractname}{Abstract}
\renewcommand{\abstractnamefont}{\normalfont\bfseries\fontsize{16pt}{19pt}\selectfont}
\renewcommand{\abstracttextfont}{\normalfont}

\RequirePackage{fancyhdr}
\setlength{\headheight}{15pt}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[CO,RE]{\textcolor{black}{DIALECTSENSE PROJECT REPORT}}
\fancyfoot[R]{\textcolor{black}{\thepage}}

\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[R]{\textcolor{black}{\thepage}}
  \renewcommand{\headrulewidth}{0pt}
}
\thispagestyle{plain}
